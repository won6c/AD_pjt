{% extends 'base.html' %}

{% block title %}AI ì¶”ì²œ ë„ì„œ{% endblock %}

{% block content %}
<h2 class="text-center mb-4">
  ğŸ“– "{{ base_book.title }}"ì™€ ë¹„ìŠ·í•œ ë„ì„œ ì¶”ì²œ
</h2>

{% if query %}
<p class="text-center text-muted mb-4">
  ğŸ” ê²€ìƒ‰ì–´ "<strong>{{ query }}</strong>"ì— í•´ë‹¹í•˜ëŠ” ë„ì„œê°€ ê¸°ì¤€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.
  {% if base_book.title|lower != query|lower %}
    (ê°€ì¥ ìœ ì‚¬í•œ ì±…: <strong>{{ base_book.title }}</strong>)
  {% endif %}
</p>
{% else %}
<p class="text-center text-muted mb-4">
  âš™ï¸ ê²€ìƒ‰ì–´ê°€ ì—†ì–´ ë¬´ì‘ìœ„ë¡œ ì±…ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤.
</p>
{% endif %}

<div class="mx-auto" style="max-width: 700px;">
  {% for book in recommended_books %}
  <div class="p-3 border-bottom">
    <h5 class="fw-bold text-primary">
      <a href="{% url 'library:book_detail' book.id %}" class="text-decoration-none text-primary">
        {{ book.title }}
      </a>
    </h5>
    <div class="text-muted small">{{ book.author }} / {{ book.published_date }}</div>
    {% if book.description %}
    <p class="mt-2">{{ book.description|truncatechars:100 }}</p>
    {% else %}
    <p class="mt-2 text-muted fst-italic">ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endif %}
  </div>
  {% endfor %}
</div>

<div class="text-center mt-4">
  <a href="{% url 'library:book_recommend' %}?query={{ query }}" class="btn btn-outline-primary me-2">
    ğŸ”„ ë‹¤ì‹œ ì¶”ì²œ ë°›ê¸°
  </a>
  <a href="{% url 'library:book_search' %}" class="btn btn-outline-secondary">
    ğŸ” ë„ì„œ ê²€ìƒ‰í•˜ê¸°
  </a>
</div>
{% endblock %}
